<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title><!DOCTYPE html>
        <html lang="pt-br">
        <head>
            <meta charset="UTF-8">
            <title>Btn</title>
            <link rel="stylesheet" href="style.min.css">
            <link rel="stylesheet" href="normalize.css">
            <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
                  integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
                  crossorigin="anonymous">
            <script src="jquery.js"></script>
        </head>
<body>
<div id="notify"></div>

<div class="container center">
    <div class="bloco center ">
        <form id="form-login" class="display-flex em-coluna">
            <input id="nome" placeholder="User. Ex.: user123" type="text">
            <input id="pass" placeholder="Senha. Ex.: 12345abcd"type="password">
            <button id="send">Login</button>
        </form>
    </div>
</div>
<script>
    var users =
        [
            {name: 'guga', pass: 'xx'},
            {name: 'luis', pass: 'xxx'}
        ]

    var local = localStorage.getItem("User");

    if (local !== null) {
        $("#nome").val(local).attr({
            disabled: true
        })
    }

    $('#send').click(function () {
        var nome = $("#nome").val(),
            pass = $("#pass").val();

        Login(nome, pass)

        return false;
    });

    function Login(n, p) {
        var name = verificaLogin(n, p);
        var msg = mostraMsg(name.msg, name.res)
    }

    function mostraMsg(msg, classe) {
        var div = $('<div class="res"></div>');
        var css = classe.toString();
        div.addClass(css)
        if (css === 'true') {
            div.text(`Logado`)
        }

        if (css === 'false') {
            div.text(msg)
        }

        div.prependTo('#notify')
        div.animate({
            'margin-top': '200px'
        }, 3000, function () {
            $(this).remove()
        })
    }

    function verificaLogin(nome, pass) {
        var check;
        for (const user of users) {
            if (nome === user.name) {
                if (pass !== user.pass) {
                    check = {
                        res: false,
                        msg: 'Senha incorreta'
                    };
                    break;
                } else {
                    check = {
                        res: true,
                        msg: 'Logado com sucesso.',
                        nome: user.name
                    };
                    break;
                }
            }
            else {
                check = {
                    res: false,
                    msg: 'User nao encontrado'
                }
            }
        }

        return check;
    }
</script>
</body>
</html>